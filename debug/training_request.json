{
  "input": {
    "workflow": {
      "2": {
        "inputs": {
          "transformer": "flux1-dev-fp8.safetensors",
          "vae": "ae.safetensors",
          "clip_l": "clip_l.safetensors",
          "t5": "t5xxl_fp8.safetensors"
        },
        "class_type": "FluxTrainModelSelect",
        "_meta": {
          "title": "FluxTrain ModelSelect"
        }
      },
      "4": {
        "inputs": {
          "steps": 2100,
          "network_trainer": [
            "107",
            0
          ]
        },
        "class_type": "FluxTrainLoop",
        "_meta": {
          "title": "Flux Train Loop"
        }
      },
      "14": {
        "inputs": {
          "save_state": false,
          "copy_to_comfy_lora_folder": false,
          "network_trainer": [
            "4",
            0
          ]
        },
        "class_type": "FluxTrainSave",
        "_meta": {
          "title": "Flux Train Save LoRA"
        }
      },
      "37": {
        "inputs": {
          "steps": 2,
          "width": 1024,
          "height": 1024,
          "guidance_scale": 3,
          "seed": 42,
          "shift": true,
          "base_shift": 0.5,
          "max_shift": 1.15
        },
        "class_type": "FluxTrainValidationSettings",
        "_meta": {
          "title": "Flux Train Validation Settings"
        }
      },
      "88": {
        "inputs": {
          "output": "",
          "source": [
            "107",
            1
          ]
        },
        "class_type": "Display Any (rgthree)",
        "_meta": {
          "title": "Number of epochs"
        }
      },
      "95": {
        "inputs": {
          "optimizer_type": "AdamW8bit",
          "max_grad_norm": 1,
          "lr_scheduler": "constant",
          "lr_warmup_steps": 0,
          "lr_scheduler_num_cycles": 3,
          "lr_scheduler_power": 1,
          "min_snr_gamma": 5,
          "extra_optimizer_args": ""
        },
        "class_type": "OptimizerConfig",
        "_meta": {
          "title": "Optimizer Config"
        }
      },
      "97": {
        "inputs": {
          "plot_style": "seaborn-v0_8-dark-palette",
          "window_size": 100,
          "normalize_y": true,
          "width": 768,
          "height": 512,
          "log_scale": false,
          "network_trainer": [
            "4",
            0
          ]
        },
        "class_type": "VisualizeLoss",
        "_meta": {
          "title": "Visualize Loss"
        }
      },
      "98": {
        "inputs": {
          "filename_prefix": "flux_lora_loss_plot",
          "images": [
            "97",
            0
          ]
        },
        "class_type": "SaveImage",
        "_meta": {
          "title": "Save Image"
        }
      },
      "105": {
        "inputs": {
          "output": "",
          "source": [
            "107",
            2
          ]
        },
        "class_type": "Display Any (rgthree)",
        "_meta": {
          "title": "Display Any (rgthree)"
        }
      },
      "107": {
        "inputs": {
          "output_name": "flux_lora_file_name",
          "output_dir": "/model_output",
          "network_dim": 8,
          "network_alpha": 8,
          "learning_rate": 0.0003,
          "max_train_steps": 2100,
          "apply_t5_attn_mask": true,
          "cache_latents": "memory",
          "cache_text_encoder_outputs": "memory",
          "blocks_to_swap": 0,
          "weighting_scheme": "logit_normal",
          "logit_mean": 0,
          "logit_std": 1,
          "mode_scale": 1.29,
          "timestep_sampling": "shift",
          "sigmoid_scale": 1,
          "model_prediction_type": "raw",
          "guidance_scale": 1,
          "discrete_flow_shift": 3.1582000000000003,
          "highvram": true,
          "fp8_base": true,
          "gradient_dtype": "fp32",
          "save_dtype": "fp32",
          "attention_mode": "sdpa",
          "sample_prompts": [
            "146",
            0
          ],
          "additional_args": "",
          "train_text_encoder": "disabled",
          "clip_l_lr": 0,
          "T5_lr": 0,
          "gradient_checkpointing": "enabled",
          "flux_models": [
            "2",
            0
          ],
          "dataset": [
            "109",
            0
          ],
          "optimizer_settings": [
            "95",
            0
          ]
        },
        "class_type": "InitFluxLoRATraining",
        "_meta": {
          "title": "Init Flux LoRA Training"
        }
      },
      "108": {
        "inputs": {
          "color_aug": false,
          "flip_aug": false,
          "shuffle_caption": false,
          "caption_dropout_rate": 0,
          "alpha_mask": false,
          "reset_on_queue": false,
          "caption_extension": ".txt"
        },
        "class_type": "TrainDatasetGeneralConfig",
        "_meta": {
          "title": "TrainDatasetGeneralConfig"
        }
      },
      "109": {
        "inputs": {
          "width": 512,
          "height": 512,
          "batch_size": 1,
          "dataset_path": "/training_data",
          "class_tokens": "0006_european_20_female",
          "enable_bucket": true,
          "bucket_no_upscale": false,
          "num_repeats": 1,
          "min_bucket_reso": 256,
          "max_bucket_reso": 1024,
          "dataset_config": [
            "108",
            0
          ]
        },
        "class_type": "TrainDatasetAdd",
        "_meta": {
          "title": "Train 512x512 Dataset"
        }
      },
      "133": {
        "inputs": {
          "save_state": false,
          "network_trainer": [
            "14",
            0
          ]
        },
        "class_type": "FluxTrainEnd",
        "_meta": {
          "title": "Flux LoRA Train End"
        }
      },
      "146": {
        "inputs": {
          "string": "portrait of a young woman, 0006_european_20_female|a young woman walking in New York at night, 0006_european_20_female|a woman wearing a colorful outfit on a tropical beach, 0006_european_20_female|portrait of a young woman wearing a leather jacket in New York at sunset, 0006_european_20_female",
          "strip_newlines": true
        },
        "class_type": "StringConstantMultiline",
        "_meta": {
          "title": "Prompts for Validation"
        }
      }
    },
    "training_data": {
      "s3_urls": [
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_4.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_5.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_6.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_9.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_10.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_11.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_14.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_16.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_17.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_18.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_19.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_20.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_22.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_24.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_25.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_26.jpg",
        "s3://story-boards-assets/system_actors/training_data/0006_european_20_female/0006_european_20_female_27.jpg"
      ]
    },
    "training_config": {
      "mode": "custom-actors",
      "user_id": "actor_maker_user",
      "tenant_id": "actor_maker",
      "request_id": "6_1760619674463",
      "model_name": "actor_6_V5",
      "learning_rate": 0.0003,
      "max_train_steps": 2100
    }
  },
  "webhook": "https://cb5349cd8445.ngrok-free.app/api/training-webhook"
}